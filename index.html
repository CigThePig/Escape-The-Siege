<!DOCTYPE html>
<html lang="en"><head><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<title>Escape the Siege — Phase 2.9.3 (hotfix)</title>
<link rel="stylesheet" href="styles.css"></head><body>
<div class="wrap"><div class="panel">
<h1>Escape the Siege — <span class="pill">Phase 2.9.3</span> <small style="opacity:.65">hotfix</small></h1>
<div class="hud">
<div class="stat hp" id="hpStat"><div class="label">HP</div><div id="hpVal" class="value">10</div></div>
<div class="stat"><div class="label">Mana</div><div id="manaVal" class="value">10</div></div>
<div class="stat"><div class="label">Turn</div><div id="turnVal" class="value">0</div></div>
<div class="stat"><div class="label">Enemies</div><div id="enemyVal" class="value">0</div></div>
<div class="stat"><div class="label">Next Spawn</div><div id="spawnVal" class="value">4</div></div>
<div class="stat"><div class="label">Dash</div><div id="dashVal" class="value">Ready</div></div>
</div>
<canvas id="gameCanvas" width="900" height="900" aria-label="Game board" role="img"></canvas>
<div class="mobileControls">
<div class="tools">
<button id="toolArrow" class="toolbtn">Arrow Trap <span style="float:right;">9</span></button>
<button id="toolRune" class="toolbtn">Magic Rune (Slow) <span style="float:right;">10</span></button>
<button id="toolFire" class="toolbtn">Fire Totem (AoE) <span style="float:right;">16</span></button>
<button id="toolSpike" class="toolbtn">Spike Floor <span style="float:right;">6</span></button>
</div>
<div class="row"><button id="btnPlace" class="btn">Place Selected</button><button id="btnDash" class="btn ghost">Dash (arm)</button></div>
<div class="row"><button id="btnHelp" class="btn">Help</button><button id="btnNew" class="btn danger">New Game</button></div>
<div class="dpad" aria-label="Touch movement controls">
<div class="pad-empty"></div><button class="padbtn" data-dir="up">▲</button><div class="pad-empty"></div>
<button class="padbtn" data-dir="left">◀</button><div class="pad-empty"></div><button class="padbtn" data-dir="right">▶</button>
<div class="pad-empty"></div><button class="padbtn" data-dir="down">▼</button><div class="pad-empty"></div>
</div></div></div>
<div class="panel right"><div class="palette"><div class="tileLegend">
<div class="legendItem"><div class="swatch" style="background:#0a0e1a;border:1px solid #3b486b"></div><div>Wall</div></div>
<div class="legendItem"><div class="swatch" style="background:#263667"></div><div>Floor (unvisited)</div></div>
<div class="legendItem"><div class="swatch" style="background:#3750a1"></div><div>Floor (visited)</div></div>
<div class="legendItem"><div class="swatch" style="background:#1a6e2d"></div><div>Entrance</div></div>
<div class="legendItem"><div class="swatch" style="background:#22c55e"></div><div>Exit</div></div>
<div class="legendItem"><div class="swatch" style="background:#8b5cf6"></div><div>Spawner</div></div>
<div class="legendItem"><div class="swatch" style="background:#eab308"></div><div>Chest</div></div>
<div class="legendItem"><div class="swatch" style="background:#ef4444"></div><div>Goblin</div></div>
<div class="legendItem"><div class="swatch" style="background:#f59e0b"></div><div>Archer</div></div>
<div class="legendItem"><div class="swatch" style="background:#a78bfa"></div><div>Wraith</div></div>
</div></div>
<div class="log" id="log"></div><div class="footer">v2.9.3 hotfix: AI stall fixed, early win check, visible chests, cooldown clamp, no enemy swaps, safer turn handling.</div>
</div></div>
<script src="main.js"></script>
</body>
</html>

